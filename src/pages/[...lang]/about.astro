---
import Layout from '../../layouts/Layout.astro';
import TeamList from '../../components/about/TeamList.astro';
import { getTitle } from '../../utils/title-manager';
import { getLangFromRequest, useTranslations } from '../../i18n/utils';
import PageHeader from '../../components/ui/PageHeader.astro';

export async function getStaticPaths() {
  return [
    { params: { lang: undefined } },
    { params: { lang: 'en' } },
  ];
}

const lang = getLangFromRequest(Astro as any);
const t = useTranslations(lang);
const pageTitle = getTitle('about');
---

<Layout title={pageTitle}>
  <PageHeader 
    title={t('team.title')} 
    description={t('team.desc')} 
  />
  <TeamList />
</Layout>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  
  gsap.registerPlugin(ScrollTrigger);

  // Team Cards
  const teamCards = gsap.utils.toArray(".team-card");
  teamCards.forEach((card) => {
    gsap.from(card as Element, {
      scrollTrigger: {
        trigger: card as Element,
        start: "top bottom-=100",
        toggleActions: "play none none reverse"
      },
      y: 50,
      opacity: 0,
      duration: 0.8,
      ease: "back.out(1.2)"
    });
  });
</script>
