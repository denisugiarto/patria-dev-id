---
import Layout from '../layouts/Layout.astro';
import TeamList from '../components/about/TeamList.astro';
import { getTitle } from '../utils/title-manager';
import { getLangFromRequest, useTranslations } from '../i18n/utils';

const lang = getLangFromRequest(Astro);
const t = useTranslations(lang);
const pageTitle = getTitle('about');
---

<Layout title={pageTitle}>
  <TeamList />
</Layout>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  
  gsap.registerPlugin(ScrollTrigger);
  
  // Title Animation
  gsap.from(".animate-title", {
    y: 30,
    opacity: 0,
    duration: 1,
    ease: "power3.out"
  });
  
  gsap.from(".animate-subtitle", {
    y: 20,
    opacity: 0,
    duration: 1,
    delay: 0.2,
    ease: "power3.out"
  });

  // Team Cards
  const teamCards = gsap.utils.toArray(".team-card");
  teamCards.forEach((card) => {
    gsap.from(card as Element, {
      scrollTrigger: {
        trigger: card as Element,
        start: "top bottom-=100",
        toggleActions: "play none none reverse"
      },
      y: 50,
      opacity: 0,
      duration: 0.8,
      ease: "back.out(1.2)"
    });
  });
</script>
